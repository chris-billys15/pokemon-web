(this["webpackJsonppokemon-web"]=this["webpackJsonppokemon-web"]||[]).push([[0],{55:function(e,t,n){},58:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c,a,s=n(1),i=n.n(s),o=n(17),l=n.n(o),r=(n(55),n(22)),d=n(8),j=n(45),m=n(75),b=n(21),p=n(76),u=n(34),O=n(28),h=Object(O.a)(c||(c=Object(u.a)(["\n\tquery pokemons($limit: Int, $offset: Int) {\n\t\tpokemons(limit: $limit, offset: $offset) {\n\t\t\tcount\n\t\t\tnext\n\t\t\tprevious\n\t\t\tnextOffset\n\t\t\tprevOffset\n\t\t\tstatus\n\t\t\tmessage\n\t\t\tresults {\n\t\t\t\tid\n\t\t\t\turl\n\t\t\t\tname\n\t\t\t\timage\n\t\t\t\tartwork\n\t\t\t}\n\t\t}\n\t}\n"]))),x=Object(O.a)(a||(a=Object(u.a)(["\n\tquery pokemon($name: String!) {\n\t\tpokemon(name: $name) {\n\t\t\tid\n\t\t\tname\n\t\t\tsprites {\n\t\t\t\tfront_default\n\t\t\t}\n\t\t\ttypes {\n\t\t\t\ttype {\n\t\t\t\t\tname\n\t\t\t\t}\n\t\t\t}\n\t\t\tmoves {\n\t\t\t\tmove {\n\t\t\t\t\turl\n\t\t\t\t\tname\n\t\t\t\t}\n\t\t\t}\n\t\t\tstats {\n\t\t\t\tbase_stat\n\t\t\t\tstat {\n\t\t\t\t\tname\n\t\t\t\t}\n\t\t\t}\n\t\t\theight\n\t\t\tweight\n\t\t}\n\t}\n"]))),f=n(9),v=n(24),k=n(4),g=function(e){return e?(e=e.replace("-"," ")).replace(/\w+/g,(function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})):e},N=function(e,t){if(e){for(e=e.toString();e.length<t;)e="0"+e;e="#"+e}return e},y=function(e){return v.b.warn(e,{icon:function(e){e.theme,e.type;return Object(k.jsx)("img",{width:"20px",src:"/pokeball.png"})}})},w=(n(57),n(58),function(){var e=Object(p.a)(h,{variables:{offset:0,limit:20}}),t=e.data,n=e.error,c=e.loading,a=e.fetchMore;return n?Object(k.jsx)("div",{children:"Error"}):c||!t?Object(k.jsx)("div",{className:"pokemonlist-page",children:Object(k.jsx)(f.s,{className:"align-self-center",color:"warning",type:"grow"})}):Object(k.jsxs)("div",{className:"pokemonlist-page",children:[Object(k.jsx)("div",{className:"pl-container",children:t.pokemons.results.map((function(e){return Object(k.jsxs)(f.b,{className:"pl-item",children:[Object(k.jsx)(r.b,{to:"/pokemon/".concat(e.name),children:Object(k.jsx)(f.d,{placeholder:"/pokeball.png",alt:"Card image cap",src:e.image,top:!0})}),Object(k.jsx)(f.c,{children:Object(k.jsxs)(r.b,{className:"link-to",to:"/pokemon/".concat(e.name),children:[Object(k.jsx)(f.f,{className:"pokemon-name",children:N(e.id,3)}),Object(k.jsx)(f.e,{className:"pokemon-species list-page",children:g(e.name)})]})})]},e.name)}))}),0!==t.pokemons.nextOffset?Object(k.jsx)(f.a,{className:"load-btn",color:"danger",onClick:function(){var e=t.pokemons.nextOffset;a({variables:{offset:e},updateQuery:function(e,t){var n=t.fetchMoreResult;return n.pokemons.results=[].concat(Object(b.a)(e.pokemons.results),Object(b.a)(n.pokemons.results)),n}})},children:Object(k.jsx)("div",{children:"Load more"})}):Object(k.jsx)(k.Fragment,{})]})}),S=n(11),C={myPokemon:[]},P=Object(s.createContext)(C),M=P,E=(n(61),{hp:"Hp",attack:"Attack",defense:"Defense","special-attack":"Sp Atk","special-defense":"Sp Def",speed:"Speed"}),z=function(){var e,t=Object(s.useState)(!1),n=Object(S.a)(t,2),c=n[0],a=n[1],o=Object(s.useState)(""),l=Object(S.a)(o,2),r=l[0],j=l[1],m=Object(s.useState)(null),b=Object(S.a)(m,2),u=b[0],O=b[1],h=Object(s.useState)(!1),w=Object(S.a)(h,2),C=w[0],P=w[1],z=Object(d.g)().name,I=Object(s.useContext)(M),J=Object(p.a)(x,{variables:{name:z}}),L=J.data,$=J.loading,F=J.error;i.a.useEffect((function(){L&&O(L.pokemon)}),[L]);return F?Object(k.jsx)("div",{children:"Error"}):$||!L?Object(k.jsx)("div",{children:"Loading..."}):Object(k.jsxs)("div",{className:"pokemondetail-page",children:[Object(k.jsxs)("div",{className:"pd-content",children:[Object(k.jsxs)("div",{className:"poke-name",children:["".concat(g(null===u||void 0===u?void 0:u.name)," ").concat(N(null===u||void 0===u?void 0:u.id,3))," "]}),Object(k.jsxs)("div",{className:"pokemondetail-container",children:[Object(k.jsxs)("div",{className:"d-flex flex-column flex-grow-1",children:[Object(k.jsx)(f.d,{placeholder:"/pokeball.png",className:"poke-img",src:null===u||void 0===u||null===(e=u.sprites)||void 0===e?void 0:e.front_default}),Object(k.jsxs)("div",{className:"detail-container detail-container-stats",children:[Object(k.jsx)("div",{className:"container-title",children:"Pokemon Base Stats"}),Object(k.jsx)("div",{className:"poke-stats",children:null===u||void 0===u?void 0:u.stats.map((function(e){return Object(k.jsx)("div",{children:"".concat(E[e.stat.name]," : ").concat(e.base_stat)})}))})]}),Object(k.jsx)(f.a,{className:"btn-catch",color:"danger",onClick:function(){Math.random()<.5?a(!0):y("Too bad! Pokemon got away")},children:"Catch Me"})]}),Object(k.jsx)("div",{className:"right-container flex-grow-1 ",children:Object(k.jsxs)("div",{className:"typeandsize-container",children:[Object(k.jsxs)("div",{className:"bodysize-container",children:[Object(k.jsxs)("div",{className:"d-flex flex-column mr-5",children:[Object(k.jsx)("div",{className:"bodysize-item",children:"Height"}),Object(k.jsxs)("div",{className:"bodysize-number",children:[10*(null===u||void 0===u?void 0:u.height)," cm"]})]}),Object(k.jsxs)("div",{className:"d-flex flex-column",children:[Object(k.jsx)("div",{className:"bodysize-item",children:"Weight"}),Object(k.jsxs)("div",{className:"bodysize-number",children:[(null===u||void 0===u?void 0:u.weight)/10," kg"]})]})]}),Object(k.jsxs)("div",{className:"detail-container detail-container-type",children:[Object(k.jsx)("div",{className:"container-title",children:"Types"}),Object(k.jsx)("div",{className:"type-container",children:null===u||void 0===u?void 0:u.types.map((function(e){return Object(k.jsx)("div",{className:"poke-type ".concat(e.type.name,"-type"),children:"".concat(g(e.type.name).replace("-"," "))})}))})]}),Object(k.jsxs)("div",{className:"detail-container detail-container-type mt-4",children:[Object(k.jsx)("div",{className:"container-title",children:"Moves"}),Object(k.jsx)("ul",{className:"moves-container",children:null===u||void 0===u?void 0:u.moves.map((function(e){var t;return Object(k.jsx)("li",{className:"text-left",children:g(null===(t=e.move)||void 0===t?void 0:t.name)})}))})]})]})})]})]}),Object(k.jsxs)(f.j,{isOpen:c,children:[Object(k.jsx)(f.m,{toggle:function(){a(!1),j("")},children:"What is your pokemon nickname?"}),Object(k.jsxs)(f.k,{children:[Object(k.jsx)(f.i,{placeholder:"Nickname",onChange:function(e){return j(e.target.value)},invalid:C}),Object(k.jsx)(f.h,{children:"Oh no! The same pokemon with that nickname is already exist!"})]}),Object(k.jsxs)(f.l,{children:[Object(k.jsx)(f.a,{color:"primary",disabled:""===r,onClick:function(){var e=I.addNewPokemon(r,u);P(!e),e&&(a(!1),j(""),y("Congratulation! Pokemon is caught"))},children:"Rename"})," "]})]}),Object(k.jsx)(v.a,{})]})},I=function(){var e=Object(s.useContext)(P),t=e.myPokemon,n=e.releasePokemon;return t?Object(k.jsxs)("div",{className:"pokemonlist-page",children:[Object(k.jsx)("div",{className:"pl-container",children:t.map((function(e,t){return Object(k.jsxs)(f.b,{className:"pl-item",children:[Object(k.jsx)(f.d,{alt:"Card image cap",src:e.image,top:!0}),Object(k.jsxs)(f.c,{children:[Object(k.jsx)(f.f,{className:"pokemon-name",children:e.nickname}),Object(k.jsxs)(f.e,{className:"pokemon-species",children:["[ ",g(e.species)," ]"]}),Object(k.jsx)(f.a,{className:"load-btn",color:"danger",onClick:function(){n(t),y("".concat(e.nickname," [ ").concat(g(e.species)," ] is released to the wild"))},children:"Release"})]})]},e.nickname)}))}),Object(k.jsx)(v.a,{})]}):Object(k.jsx)("div",{children:"Loading..."})},J=[{href:"/",text:"Pokedex"},{href:"/mypokemon",text:"My Pokemon"}],L=function(){var e=i.a.useState(!1),t=Object(S.a)(e,2),n=t[0],c=t[1];return Object(k.jsx)("div",{children:Object(k.jsxs)(f.p,{color:"danger",dark:!0,expand:"md",children:[Object(k.jsx)(f.q,{className:"text-white",children:"Pokemon Web"}),Object(k.jsx)(f.r,{className:"me-2",onClick:function(){c(!n)}}),Object(k.jsx)(f.g,{isOpen:n,navbar:!0,children:Object(k.jsx)(f.n,{className:"ml-auto",navbar:!0,children:J.map((function(e,t){return function(e,t){return Object(k.jsx)(f.o,{className:"ml-3",children:Object(k.jsx)(r.b,{className:"text-white",to:t.href,children:t.text},e)})}(t,e)}))})})]})})};n(62);var $=function(){var e=new j.a({uri:"https://graphql-pokeapi.graphcdn.app"});return Object(s.useEffect)((function(){console.log("/pokemon-web")})),Object(k.jsx)(m.a,{client:e,children:Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)(r.a,{basename:"/pokemon-web",children:[Object(k.jsx)(L,{}),Object(k.jsxs)(d.c,{children:[Object(k.jsx)(d.a,{path:"/",element:Object(k.jsx)(w,{})}),Object(k.jsx)(d.a,{path:"/pokemon/:name",element:Object(k.jsx)(z,{})}),Object(k.jsx)(d.a,{path:"/mypokemon",element:Object(k.jsx)(I,{})})]})]})})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))},T=function(e){var t=e.children,n=Object(s.useState)(null),c=Object(S.a)(n,2),a=c[0],i=c[1],o=localStorage.getItem("my-pokemon");Object(s.useEffect)((function(){a||i(o?JSON.parse(o):[])}),[]);var l=function(e){e&&(localStorage.setItem("my-pokemon",JSON.stringify(e)),i(e))},r=function(e,t){for(var n=!1,c=0;!n&&c<a.length;)a[c].nickname===e&&a[c].species===t&&(n=!0),c++;return n};return Object(k.jsx)(M.Provider,{value:{myPokemon:a,pokemonWithNicknameExist:r,setMyPokemon:i,saveMyPokemon:l,addNewPokemon:function(e,t){try{var n=r(e,null===t||void 0===t?void 0:t.name);if(!n){var c,s=[{image:null===t||void 0===t||null===(c=t.sprites)||void 0===c?void 0:c.front_default,nickname:e,species:null===t||void 0===t?void 0:t.name}];l(a.concat(s))}return!n}catch(i){console.log(i)}},releasePokemon:function(e){var t=JSON.parse(JSON.stringify(a));t.splice(e,1),l(t)}},children:t})};l.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(T,{children:Object(k.jsx)($,{})})}),document.getElementById("root")),F()}},[[65,1,2]]]);
//# sourceMappingURL=main.0ef47be9.chunk.js.map